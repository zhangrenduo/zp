/**
 * Created by Administrator on 2019/8/20 0020.
 */

$(function(){nl=$("#nl .swiper-container").swiper({mode:"horizontal",loop:true,onSlideChangeStart:function(c){var d=nl.activeIndex;$("#nl .lne span").attr("class","l_"+d)}});$("#nl .name span").click(function(){var b=$(this).index();nl.swipeTo(b,300)});if(typeof(scrollFilter)!="undefined"){scrollFilter.ini("myscroll1","myscroll2")}});var jobareaSelector={show:function(){$(".main, .main1, #mddbtmtab, footer, .g80").hide();$("#barea").show()},listshow:function(){$("#tophead,.snav,#breadnav,.search_box,.filtertag,.job_list ,.lop,footer,.g80,#shadow,.paging,.filter_shadow").hide();$("#barea").show()},hide:function(){$(".main, .main1, #mddbtmtab, footer, .g80").show();$("#tophead,.snav,#breadnav,.search_box,.filtertag,.job_list ,.lop,footer,.g80,.paging").show();hidePop();$("#barea").hide()},showChild:function(a){if($(a).hasClass("down")){$(a).removeClass("down").next().hide()}else{$(".i.nr.down").removeClass("down");$(".clist.lsinfo").hide();$(a).addClass("down").next().show()}}};var showLandPop=function(e){$("#tubepop").removeClass("v2").addClass("v1");$("#rollAss,.filter_shadow,#jobareaContent,#jobareaChildContent,#tubepop,#rightSroll").show();$("#jobareaContent,#jobareaChildContent").siblings().hide();var a=$(e).attr("areavalue"),f=$(e).attr("dibiaovalue"),c=$(e).attr("lonlatvalue");tubename=$(e).attr("tubevalue");var b=false;$(".area").each(function(){if($(this).attr("value")==a){if($(this).hasClass("allarea")){if(f){b=true}}$(this).addClass("choice").siblings().removeClass("choice");$(this).click()}});if(b){$(".areahot").addClass("choice").siblings().removeClass("choice");$(".areahot").click()}$(".areaLandmark").each(function(){if(f!=""){if($(this).attr("value")!=""){if($(this).attr("value")==f){$(this).addClass("cked")}}}else{if($(this).attr("data")==a&&$(this).attr("value")==""){$(this).addClass("cked")}}});$(".hotlandmark").each(function(){if($(this).attr("value")==f){$(this).addClass("cked")}});var d={el:[{myscroll1:$("#areahtml").html()}]};filtertag.changeStatus(d)};var showQuyuPop=function(e){if(!hideFiltertag($(e))){return false}$("#tubepop").removeClass("v2").addClass("v1");$("#rollAss,.filter_shadow,#jobareaContent,#tubepop,#rightSroll").show();var a=$(e).attr("areavalue"),f=$(e).attr("dibiaovalue"),c=$(e).attr("lonlatvalue");tubename=$(e).attr("tubevalue");if(c==""){var b=false;$(".area").each(function(){if($(this).attr("value")==a){if($(this).hasClass("allarea")){if(f){b=true}}$(this).addClass("choice").siblings().removeClass("choice");$(this).click();return false}});if(b){$(".areahot").addClass("choice").siblings().removeClass("choice");$(".areahot").click()}$(".areaLandmark").each(function(){if(f!=""){if($(this).attr("value")!=""){if($(this).attr("value")==f){$(this).addClass("cked")}}}else{if($(this).attr("data")==a&&$(this).attr("value")==""){$(this).addClass("cked")}}});$(".hotlandmark").each(function(){if($(this).attr("value")==f){$(this).addClass("cked")}});var d={el:[{myscroll1:$("#areahtml").html()}]};filtertag.changeStatus(d)}else{$(".tube").click();$(".tube").each(function(){if($(this).attr("value")==tubename){$(this).addClass("choice").siblings().removeClass("choice");$(this).click()}});$(".childtube").each(function(){if($(this).attr("lonlatv")==c){$(this).addClass("cked")}});var d={el:[{myscroll1:$("#tubehtml").html()}]};filtertag.changeStatus(d)}};var showHotLandmark=function(a){$(".bigarea,.areaLandmark").hide();$(".hotlandmark").show();$(a).addClass("choice").siblings().removeClass("choice");scrollFilter.change("myscroll2",$("#areachildhtml").html())};var showAreaALL=function(b){scrollFilter.change("myscroll2",$("#areachildhtml").html());$(".hotlandmark,.areaLandmark").hide();$(".bigarea").show();$(b).addClass("choice").siblings().removeClass("choice");var a={el:[{myscroll2:$("#allareahtml").html()}]};filtertag.changeStatus(a);$(".hotlandmark").each(function(){if($(this).hasClass("cked")){$(".bigarea").removeClass("cked")}});$(".hotlandmark").each(function(){if($(this).hasClass("cked")){$(".bigarea").removeClass("cked")}});$(".areaLandmark").each(function(){if($(this).hasClass("cked")&&$(this).attr("data")!=$(b).attr("value")){$(".bigarea").removeClass("cked")}})};var showLandmark=function(f){var b=$(f).attr("value"),c=$(f).text(),a=$(f).attr("pinyin");$(".bigarea,.hotlandmark").hide();var e=false;$(".areaLandmark").each(function(){if($(this).attr("data")===b){$(this).show();e=true}else{$(this).hide()}});if(!e){var g=$("#searchLandmarkUrl").attr("data");var d='<li style="display:block" data="'+b+'" class="at areaLandmark"><a href="'+g.replace("#alllandmark#",a)+'">'+c+"</a></label></li>";$("#areachildhtml").append(d)}$(f).addClass("choice").siblings().removeClass("choice");scrollFilter.change("myscroll2",$("#areachildhtml").html())};var showTubePop=function(b){$("#tubepop").removeClass("v1").addClass("v2");$("#jobareaContent,#jobareaChildContent").hide();$("#tubeContent,#tubeChildContent").show();$("#tubeContent .tube").each(function(){if($(this).attr("value")==$("#areainfo").attr("tubevalue")){$(this).addClass("choice").siblings().removeClass("choice")}});var a={el:[{myscroll1:$("#tubehtml").html(),myscroll2:$("#tubechildhtml").html()}]};filtertag.changeStatus(a)};var showTube=function(c){$(c).addClass("choice").siblings().removeClass("choice");var b=$(c).attr("value");$(".childtube").each(function(){if($(this).attr("value")==b){$(this).show()}else{$(this).hide()}});var a={el:[{myscroll2:$("#tubechildhtml").html()}]};filtertag.changeStatus(a)};var showWelfarePop=function(b){if(!hideFiltertag($(b))){return false}$("#tubepop,#rightSroll").hide();$("#rollAss,.filter_shadow").show();var a={el:[{myscroll1:$("#welfarehtml").html()}]};filtertag.changeStatus(a)};var showFuntypePop=function(a){if(!hideFiltertag($(a))){return false}$("#rollAss,.filter_shadow,#funtypeContent,#rightSroll,#funtypeChildContent").show();$("#tubepop").hide();$("#judgepop").addClass("hf");if($(a).attr("value")){var b=$(a).attr("value").substr(0,2)+"00";$(".bigFun").each(function(){if($(this).attr("value").substr(0,2)==$(a).attr("value").substr(0,2)){$(this).addClass("choice").siblings().removeClass("choice");$(this).click()}});$(".fun").each(function(){if($(this).attr("value").substr(0,2)==$(a).attr("value").substr(0,2)){if($(this).attr("value")==$(a).attr("value")){$(this).addClass("cked")}}})}else{$(".allfun").addClass("choice").click();$(".allfuns").addClass("cked")}scrollFilter.change("myscroll1",$("#funhtml").html());return false};var showFuntypeChild=function(a){$(a).addClass("choice").siblings().removeClass("choice");if($(a).attr("value")==""){scrollFilter.change("myscroll2",$("#allfunhtml").html())}else{$(".fun").each(function(){if($(this).attr("value").substr(0,2)==$(a).attr("value").substr(0,2)){$(this).show()}else{$(this).hide()}});scrollFilter.change("myscroll2",$("#funchildhtml").html())}};var showMorePop=function(b){if(!hideFiltertag($(b))){return false}$("#rightSroll,#tubepop").hide();$("#rollAss,.filter_shadow").show();var a={el:[{myscroll1:$("#morehtml").html()}]};filtertag.changeStatus(a)};var hideFiltertag=function(a){if($(a).parent().hasClass("mk")){$("#rollAss,.filter_shadow,#tubepop").hide();return false}else{return true}};var hidePop=function(){$("#rollAss,.filter_shadow,#tubepop").hide();$("#filterTab .bb").removeClass("mk");return false};var hideAlert=function(){$("#applynotice").hide()};var toMyapply=function(){location.href="https://m.51mdd.com/my/myapply.php?";return false};var applySeoJob=function(d){var c=$(d).attr("value");var b={jobid:c};var a="https://m.51mdd.com/ajax/search/apply.ajax.php";$.ajax({url:a,data:b,dataType:"json",type:"post",xhrFields:{withCredentials:true},success:function(e){if(e.status=="1"){pop.msg(e.desc)}else{if(e.url){location.href=e.url}else{pop.msg(e.desc);return false}}},error:function(){}})};var applyAlljob=function(){var b=0;var c="";$(".apply_job").each(function(){if(b==0){c=$(this).attr("value")}else{c+=","+$(this).attr("value")}b++});var e=c;var d={jobid:e};var a="https://m.51mdd.com/ajax/search/apply.ajax.php";$.ajax({url:a,data:d,dataType:"json",type:"post",xhrFields:{withCredentials:true},success:function(f){if(f.status=="1"){pop.msg(f.desc)}else{if(f.url){location.href=f.url}else{pop.msg(f.desc);return false}}},error:function(){}})};function ellipsis(e){for(var d=0;d<e.length;d++){var a=e[d].childNodes[0];var b=e[d].offsetHeight;while(a.offsetHeight>b){var g=a.innerHTML;var f=g.replace(/(\s)*([a-zA-Z0-9]+|\W|\-|_|#)(\.\.\.)?$/,"...");a.innerHTML=f}}}var exp=document.getElementsByClassName("exp");ellipsis(exp);